<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="PIC32CX-BZ3 bootloader is a standalone harmony component, Using it, one can generate bootloader which is a program that typically is loaded in to the boot flash memory and gets executed every time the ..."/><meta name="copyright" content="(C) Copyright 2024"/><meta name="generator" content="DITA-OT"/><title>1.2.5 PIC32CX-BZ3 Standalone Bootloader Component Help</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F-d2097e2003"/><meta name="wh-source-relpath" content="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F.xml"/><meta name="wh-out-relpath" content="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
    <script src="https://assets.adobedtm.com/6a72a357eb48/a636c708c7fe/launch-0b0023397020.min.js"></script><!-- Adobe Analytics -->
</head>

    <body id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="MPLAB Harmony PIC32CX-BZ System Services &#xA;    "/></a>
                    <div class=" wh_publication_title "><a href="index.html">MPLAB Harmony PIC32CX-BZ System Services 
    </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"><div class="d-flex justify-content-end"><div class="dropdown"><a style="font-size: 1em; padding: 7px 12px !important;" class="btn py-3 px-3 btn-outline-light dropdown-toggle" href="#" role="button" id="devicesMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Product Pages</a><div style="font-size: 1em;" class="dropdown-menu" aria-labelledby="devicesMenu"><a class="dropdown-item" target="_blank" href="https://www.microchip.com/en-us/product/wbz450">WBZ450</a><a class="dropdown-item" target="_blank" href="https://www.microchip.com/en-us/product/wbz451"> WBZ451</a><a class="dropdown-item" target="_blank" href="https://www.microchip.com/en-us/product/pic32cx-bz2"> PIC32CX-BZ2</a></div></div></div></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="GUID-B92D56E1-C216-4D2D-827C-26D5B803B704"><div class="title"><a href="GUID-B92D56E1-C216-4D2D-827C-26D5B803B704.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
PIC32CX-BZ Family System Services</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph instanceOffsets">             <p class="p">The PIC32CX-BZ System services provides several services to protocol developers and                 application users which use PIC32CX-BZ products. </p>         </span></p></div></div></div></li><li><div class="topicref" data-id="GUID-F9698DC6-BF78-4773-A5E3-CA7D4F570394"><div class="title"><a href="GUID-F9698DC6-BF78-4773-A5E3-CA7D4F570394.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
PIC32CX-BZ3 System Services</a></div></div></li><li class="active"><div class="topicref" data-id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F"><div class="title"><a href="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.5</ph>
PIC32CX-BZ3 Standalone Bootloader Component Help</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            <div class="row" style="margin-top: -1em;"><div class="col-lg-9 col-md-9 col-sm-12 offset-lg-3 offset-md-3 text-right border-bottom mb-1"><h2 class="text-dark header_title">
    </h2></div></div>
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-B92D56E1-C216-4D2D-827C-26D5B803B704-d2097e11" class="topicref" data-id="GUID-B92D56E1-C216-4D2D-827C-26D5B803B704" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-B92D56E1-C216-4D2D-827C-26D5B803B704-d2097e11-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-B92D56E1-C216-4D2D-827C-26D5B803B704.html" id="GUID-B92D56E1-C216-4D2D-827C-26D5B803B704-d2097e11-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
PIC32CX-BZ Family System Services</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph instanceOffsets">             <p class="p">The PIC32CX-BZ System services provides several services to protocol developers and                 application users which use PIC32CX-BZ products. </p>         </span></p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-FFC9758F-305D-4A4A-A577-726CDCFA18C7-d2097e26" class="topicref" data-id="GUID-FFC9758F-305D-4A4A-A577-726CDCFA18C7" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-FFC9758F-305D-4A4A-A577-726CDCFA18C7-d2097e26-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-FFC9758F-305D-4A4A-A577-726CDCFA18C7.html" id="GUID-FFC9758F-305D-4A4A-A577-726CDCFA18C7-d2097e26-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
PIC32CX-BZ2 System Services</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-F9698DC6-BF78-4773-A5E3-CA7D4F570394-d2097e1090" class="topicref" data-id="GUID-F9698DC6-BF78-4773-A5E3-CA7D4F570394" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-F9698DC6-BF78-4773-A5E3-CA7D4F570394-d2097e1090-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-F9698DC6-BF78-4773-A5E3-CA7D4F570394.html" id="GUID-F9698DC6-BF78-4773-A5E3-CA7D4F570394-d2097e1090-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
PIC32CX-BZ3 System Services</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-04D7627E-7290-429B-88B9-2EFFFA11A3A8-d2097e1098" class="topicref" data-id="GUID-04D7627E-7290-429B-88B9-2EFFFA11A3A8" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-04D7627E-7290-429B-88B9-2EFFFA11A3A8-d2097e1098-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-04D7627E-7290-429B-88B9-2EFFFA11A3A8.html" id="GUID-04D7627E-7290-429B-88B9-2EFFFA11A3A8-d2097e1098-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.1</ph>
PIC32CX-BZ3 Secure Boot ROM Help</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-AA710303-8EC4-46F9-9F40-B61401D0F4FB-d2097e1399" class="topicref" data-id="GUID-AA710303-8EC4-46F9-9F40-B61401D0F4FB" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-AA710303-8EC4-46F9-9F40-B61401D0F4FB-d2097e1399-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-AA710303-8EC4-46F9-9F40-B61401D0F4FB.html" id="GUID-AA710303-8EC4-46F9-9F40-B61401D0F4FB-d2097e1399-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.2</ph>
PIC32CX-BZ3 Device Support Component Library Help</a><div class="wh-tooltip"><p class="shortdesc">The PIC32CX-BZ3 Device Support Component Library provides software API's for various                 subsystems in the PIC32CX-BZ3.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-480322DE-77D7-4DD6-9AB0-9B92A193D321-d2097e1747" class="topicref" data-id="GUID-480322DE-77D7-4DD6-9AB0-9B92A193D321" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-480322DE-77D7-4DD6-9AB0-9B92A193D321-d2097e1747-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-480322DE-77D7-4DD6-9AB0-9B92A193D321.html" id="GUID-480322DE-77D7-4DD6-9AB0-9B92A193D321-d2097e1747-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.3</ph>
PIC32CX-BZ3 Persistent Data Server Component Library Help</a><div class="wh-tooltip"><p class="shortdesc">The PIC32CX-BZ3 Persistent Data Server Component Library provides interface for storing                 and restoring items into the Non volatile memory using wear leveling                 mechanism</p></div></div></div></li><li role="treeitem"><div data-tocid="GUID-6F443732-8F03-4525-A5EA-E0D25379C8AB-d2097e1995" class="topicref" data-id="GUID-6F443732-8F03-4525-A5EA-E0D25379C8AB" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-6F443732-8F03-4525-A5EA-E0D25379C8AB.html" id="GUID-6F443732-8F03-4525-A5EA-E0D25379C8AB-d2097e1995-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.4</ph>
PIC32CX-BZ3 Boot Services Help</a></div></div></li><li role="treeitem" aria-expanded="true" class="active"><div data-tocid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F-d2097e2003" class="topicref" data-id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F-d2097e2003-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F.html" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F-d2097e2003-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.5</ph>
PIC32CX-BZ3 Standalone Bootloader Component Help</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="GUID-80611E1C-ADA6-450A-B484-9B67D8C6BCFE-d2097e2011" class="topicref" data-id="GUID-80611E1C-ADA6-450A-B484-9B67D8C6BCFE" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-80611E1C-ADA6-450A-B484-9B67D8C6BCFE.html" id="GUID-80611E1C-ADA6-450A-B484-9B67D8C6BCFE-d2097e2011-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.5.1</ph>
Configuration Options</a></div></div></li><li role="treeitem"><div data-tocid="GUID-3D686B12-9733-42ED-A3A8-8418CBB8CFA2-d2097e2019" class="topicref" data-id="GUID-3D686B12-9733-42ED-A3A8-8418CBB8CFA2" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-3D686B12-9733-42ED-A3A8-8418CBB8CFA2.html" id="GUID-3D686B12-9733-42ED-A3A8-8418CBB8CFA2-d2097e2019-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.5.2</ph>
DFU Functionality - Serial image bootloader</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-9914BAEF-0E8A-43F0-A610-212D102107A6-d2097e2027" class="topicref" data-id="GUID-9914BAEF-0E8A-43F0-A610-212D102107A6" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-9914BAEF-0E8A-43F0-A610-212D102107A6-d2097e2027-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-9914BAEF-0E8A-43F0-A610-212D102107A6.html" id="GUID-9914BAEF-0E8A-43F0-A610-212D102107A6-d2097e2027-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.5.3</ph>
Bootloader API Usage</a><div class="wh-tooltip"><p class="shortdesc"></p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-317A5E50-6A52-4E41-AD29-F92236737621-d2097e2279" class="topicref" data-id="GUID-317A5E50-6A52-4E41-AD29-F92236737621" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-317A5E50-6A52-4E41-AD29-F92236737621-d2097e2279-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-317A5E50-6A52-4E41-AD29-F92236737621.html" id="GUID-317A5E50-6A52-4E41-AD29-F92236737621-d2097e2279-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2.5.4</ph>
DFU API Usage</a></div></div></li></ul></li></ul></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d2097e2319" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d2097e2319-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d2097e2319-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-D9A86BED-B81C-42D8-8657-24BE47C108E3">
<h1 class="- topic/title title topictitle1" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-D9A86BED-B81C-42D8-8657-24BE47C108E3" style="">1.2.5 PIC32CX-BZ3 Standalone Bootloader Component
    Help</h1>
<div class="- topic/body body">
                <p class="- topic/p p">PIC32CX-BZ3 bootloader is a standalone harmony component, Using it, one can
      generate bootloader which is a program that typically is loaded in to the boot flash memory
      and gets executed every time the device powers up or resets. Due to the size of the internal
      flash, PIC32CX-BZ3 bootloader supports external flash. The external flash that is supported in
      this component is SST26 (available on WBZ351 curiosity board) </p>
                <p class="- topic/p p">Bootloader can be used to upgrade firmware on a target device without the need
                        for an external programmer or debugger. It does not fully operate on the
                        device, but can perform various functions prior to starting the main
                        application</p>
                <div class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b"><u class="+ topic/ph hi-d/u ph u">Functionality of Bootloader</u></strong><ul class="- topic/ul ul" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__UL_JBR_HX3_JZB" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__UL_JBR_HX3_JZB">
        <li class="- topic/li li" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-BEA6458F-2F31-46AA-8184-D3606C4AFA7F" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-BEA6458F-2F31-46AA-8184-D3606C4AFA7F">Loads firmware images to embedded flash/external flash over the serial connection using
          a tool or python script, known as Device Firmware Upgrade (DFU)</li>
        <li class="- topic/li li" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-1C9C974B-3F9D-4DFF-B6FA-75F24FEA6AAB" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-1C9C974B-3F9D-4DFF-B6FA-75F24FEA6AAB">Provides application protection for firmware (Secured device)</li>
        <li class="- topic/li li" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-C05FA656-D2AB-4D57-A2F6-C5607A644FAE" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-C05FA656-D2AB-4D57-A2F6-C5607A644FAE">Upgrades application firmware to newer revision</li>
        <li class="- topic/li li" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-B03F2B1F-8198-4A88-8B87-0800E635016D" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-B03F2B1F-8198-4A88-8B87-0800E635016D">Controls which application can run based on Sequence number and other metadata
          information embedded in the OTA image.</li>
      </ul></div>
                <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b"><u class="+ topic/ph hi-d/u ph u">Memory Information and Layout of PIC32CXBZ3 device (WBZ351 Curiosity
          Board)</u></strong>
    </p>
                <div class="- topic/p p">
                        <div class="table-container"><table class="- topic/table table frame-all" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB" data-cols="2"><caption class="- topic/title title tablecap" data-caption-side="top" data-is-repeated="true"><span class="table--title-label"><span class="table--title-label">Table 1-13. </span></span><span class="table--title" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-2BCAA62D-E250-4449-8885-6EE808296843"></span></caption><colgroup><col style="width:50%"/><col style="width:50%"/></colgroup><thead class="- topic/thead thead">
                                                <tr class="- topic/row">
                                                  <th class="- topic/entry entry colsep-1 rowsep-1" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__1">Memory Area</th>
                                                  <th class="- topic/entry entry colsep-0 rowsep-1" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__2">Purpose</th>
                                                </tr>
                                        </thead><tbody class="- topic/tbody tbody">
                                                <tr class="- topic/row">
                                                  <td class="- topic/entry entry colsep-1 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__1">Boot Flash Size is 0x0080_0000 to
                0x0080_3FFF  (16KB)</td>
                                                  <td class="- topic/entry entry colsep-0 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__2">The memory where  bootloader code
                                                  runs</td>
                                                </tr>
                                                <tr class="- topic/row">
                                                  <td class="- topic/entry entry colsep-1 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__1">Embeded Flash Slot 0 base address -
                0x01000000</td>
                                                  <td class="- topic/entry entry colsep-0 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__2">The memory where the application firmware
                                                  runs and the memory where the bootloader copies
                                                  the new application firmware </td>
                                                </tr>
                                                <tr class="- topic/row">
                                                  <td class="- topic/entry entry colsep-1 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__1">Embedded Flash Slot 1 base address -
                0x01040000</td>
                                                  <td class="- topic/entry entry colsep-0 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__2">The memory where the received image(Either
                                                  through DFU or any other way) gets stored. and the
                                                  memory where bootloader looks for the new image to
                                                  copy into the Slot 0</td>
                                                </tr>
            <tr class="- topic/row">
              <td class="- topic/entry entry colsep-1 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__1">External Flash Slot 0 (SST26)</td>
              <td class="- topic/entry entry colsep-0 rowsep-1" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__2">Start Address (relative):0x00000; Size 512KB</td>
            </tr>
            <tr class="- topic/row">
              <td class="- topic/entry entry colsep-1 rowsep-0" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__1">External Flash Slot 1(SST26)</td>
              <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__TABLE_JYW_GYY_HSB__entry__2">Start Address (relative): 0x80000; Size 512KB</td>
            </tr>
                                        </tbody></table></div>
                </div>
                <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b"><u class="+ topic/ph hi-d/u ph u">Boot Flash</u></strong></p>
                <p class="- topic/p p">In PIC32CXBZ3, 16KB boot flash memory is separated from the main execution
      memory. This boot flash is used for bootloader code</p>
                <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b"><u class="+ topic/ph hi-d/u ph u">Metadata Header</u></strong></p>
                <p class="- topic/p p">Format of image meta-data header is described in the Secure Boot ROM Help page -
        <a class="- topic/xref xref" href="GUID-04D7627E-7290-429B-88B9-2EFFFA11A3A8.html"><span><span>1.2.1 </span><span>PIC32CX-BZ3 Secure Boot ROM Help</span></span></a>
    </p>
                <p class="- topic/p p"><u class="+ topic/ph hi-d/u ph u"><strong class="+ topic/ph hi-d/b ph b">Working of Bootloader</strong></u></p>
                <p class="- topic/p p">when the application receives new image from a server or via a tool, it
      will/should store in the Slot 1 location with meta data header &amp; firmware or in the
      external flash and it should trigger software reset so that bootloader code runs</p>
                <div class="- topic/p p">Bootloader checks for valid image in the external flash and the internal flash by
      reading the meta data header and firmware and authenticating the same with the selected
      authentication method. If valid image is found and successfully authenticated, then <ul class="- topic/ul ul" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__UL_YGN_2QK_XSB" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__UL_YGN_2QK_XSB">
        <li class="- topic/li li" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-362B3526-AAD1-4355-8F6A-B96E72FD09DA" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-362B3526-AAD1-4355-8F6A-B96E72FD09DA">Erases Slot 0</li>
        <li class="- topic/li li" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-EA6D5CA3-55ED-4696-9AC7-B5FFEEBC52D9" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-EA6D5CA3-55ED-4696-9AC7-B5FFEEBC52D9">Copies the new image (DFU or OTA) image
          to Slot 0</li>
        <li class="- topic/li li" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-46819B28-AEA1-4839-A457-72BBA2040587" data-ofbid="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__GUID-46819B28-AEA1-4839-A457-72BBA2040587">Verifies the Copy</li>
      </ul>After that it checks for valid image in Slot 0 by validating it, it jumps to the
      application if valid image is found</div>
                <p class="- topic/p p"><u class="+ topic/ph hi-d/u ph u"><strong class="+ topic/ph hi-d/b ph b">Bootloader usage with DFU</strong></u></p>
                <p class="- topic/p p">Bootloader programmed to the MCU (in DFU mode) receives an application image from
      the host over serial interface and writes it to the external flash or internal flash slot 1 .
      After loading new image on external flash or  internal flash slot 1, if reset is triggered,
      then bootloader erases the slot 0, copies the image to slot 0, verifies the copy. Then
      bootloader jumps to application which is the new application image</p>
                <p class="- topic/p p">Bootloader stores information about the image in Meta Data Header. This is
                        basically size of 0x200 bytes and gets stored at the start of slot.
                        Bootloader reads this meta data header and does the authentication procedure
                        based on the information in meta data header</p>
                <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b"><u class="+ topic/ph hi-d/u ph u">Flow Diagram of Bootloader</u></strong></p>
                <p class="- topic/p p">The detailed flow diagram of bootloader with the optional DFU block can be found
                        below</p>
                <p class="- topic/p p"><div class=""><img class="- topic/image image" id="GUID-5E76E081-070E-46EA-86A9-EE08F3F1481F__IMAGE_RC2_VZ1_3SB" src="GUID-4F6F866C-B279-4888-BE8B-E5C1DF40C5E7-high.png"/></div></p>
        </div>
</article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
  
  <script type="text/javascript">_satellite.pageBottom();</script><!-- Adobe Analytics -->
  <script type="text/javascript" src="mchp-js/prepend.js"></script><!-- Package for viewing PDFs on mobile devices -->
  
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
       
        </body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="Common simple block cipher modes." />
<meta name="DC.relation" scheme="URI" content="GUID-E5AC2B5B-4DA1-4D7D-A714-901692577E30.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="common-simple-block-cipher-modes" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Common simple block cipher modes.</title>
<meta name="Microsoft.Help.Id" content="GUID-2085FE66-A762-4CC0-B054-7F98E8AF999A" />
<meta name="Microsoft.Help.TocParent" content="GUID-2085FE66-A762-4CC0-B054-7F98E8AF999A-GUID-E5AC2B5B-4DA1-4D7D-A714-901692577E30" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB Harmony PIC32CX-BZ System Services Reference 4 10/2023" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body>
<div class="nested0" aria-labelledby="ariaid-title1" id="common-simple-block-cipher-modes"><h1 class="title topictitle1" id="ariaid-title1" style="">Common simple block cipher modes.</h1><div class="body"></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-E5AC2B5B-4DA1-4D7D-A714-901692577E30.html" title="Enter a short description of your topic here (optional).">SX_symcrypt_API</a></div>
</div>
</div></div>
<div class="topic nested0" aria-labelledby="ariaid-title2" id="blkcipher-api-file-macro"><h1 class="title topictitle1" id="ariaid-title2" style="">BLKCIPHER_API_FILE Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title3" id="c"><h2 class="title topictitle2" id="ariaid-title3" style="">C</h2><div class="body"><pre class="pre codeblock c"><span class="hl-directive">#define</span> <span class="hl-defines">BLKCIPHER_API_FILE</span>
</pre><p class="p">All block cipher modes here perform simple encryption and decryption
without any authentication.</p>
<p class="p">@file
@copyright Copyright (c) 2019-2020 Silex Insight. All Rights reserved.</p>
<p class="p">Examples:
The following examples show typical sequences of function calls for
encryption and decryption of a message.
@code</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">One-shot operation
a. Encryption
sx_blkcipher_create_aescbc_enc(ctx, ...)
SX_BLKCIPHER_CRYPT(ctx, ...)
SX_BLKCIPHER_RUN(ctx)
SX_BLKCIPHER_WAIT(ctx)
b. Decryption
sx_blkcipher_create_aescbc_dec(ctx, ...)
SX_BLKCIPHER_CRYPT(ctx, ...)
SX_BLKCIPHER_RUN(ctx)
SX_BLKCIPHER_WAIT(ctx)</p>
</li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Context-saving operation
a. Encryption
First round:
sx_blkcipher_create_aescbc_enc(ctx)
SX_BLKCIPHER_CRYPT(ctx, 'first chunk')
sx_blkcipher_save_state(ctx)
SX_BLKCIPHER_WAIT(ctx)
Intermediary rounds:
sx_blkcipher_resume_state(ctx)
SX_BLKCIPHER_CRYPT(ctx, 'n-th chunk')
sx_blkcipher_save_state(ctx)
SX_BLKCIPHER_WAIT(ctx)
Last round:
sx_blkcipher_resume_state(ctx)
SX_BLKCIPHER_CRYPT(ctx, 'last chunk')
SX_BLKCIPHER_RUN(ctx)
SX_BLKCIPHER_WAIT(ctx)
b. Decryption
First round:
sx_blkcipher_create_aescbc_dec(ctx)
SX_BLKCIPHER_CRYPT(ctx, 'first chunk')
sx_blkcipher_save_state(ctx)
SX_BLKCIPHER_WAIT(ctx)
Intermediary rounds:
sx_blkcipher_resume_state(ctx)
SX_BLKCIPHER_CRYPT(ctx, 'n-th chunk')
sx_blkcipher_save_state(ctx)
SX_BLKCIPHER_WAIT(ctx)
Last round:
sx_blkcipher_resume_state(ctx)
SX_BLKCIPHER_CRYPT(ctx, 'last chunk')
SX_BLKCIPHER_RUN(ctx)
SX_BLKCIPHER_WAIT(ctx)
@endcode</p>
</li>
</ol>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title4" id="prepares-an-aes-xts-block-cipher-encryption"><h1 class="title topictitle1" id="ariaid-title4" style="">Prepares an AES XTS block cipher encryption.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title5" id="sx-blkcipher-create-aesxts-enc-macro"><h1 class="title topictitle1" id="ariaid-title5" style="">SX_BLKCIPHER_CREATE_AESXTS_ENC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title6" id="c-1"><h2 class="title topictitle2" id="ariaid-title6" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESXTS_ENC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key1, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key2, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESXTS_ENC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESXTS_ENC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESXTS_ENC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES XTS encryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title7" id="parameters"><h2 class="title topictitle2" id="ariaid-title7" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title8" id="parameters-1"><h2 class="title topictitle2" id="ariaid-title8" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key1 first key used for the block cipher operation. expected size  16, 24 or 32 bytes, must be equal to \p key2 size</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title9" id="parameters-2"><h2 class="title topictitle2" id="ariaid-title9" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key2 second key used for the block cipher operation, expected  size 16, 24 or 32 bytes, must be equal to \p key1 size</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title10" id="parameters-3"><h2 class="title topictitle2" id="ariaid-title10" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_HW_KEY_NOT_SUPPORTED  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key references provided by \p key1 and \p key2 must be initialized  using SX_KEYREF_LOAD_MATERIAL().</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title11" id="prepares-an-aes-xts-block-cipher-decryption"><h1 class="title topictitle1" id="ariaid-title11" style="">Prepares an AES XTS block cipher decryption</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title12" id="sx-blkcipher-create-aesxts-dec-macro"><h1 class="title topictitle1" id="ariaid-title12" style="">SX_BLKCIPHER_CREATE_AESXTS_DEC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title13" id="c-2"><h2 class="title topictitle2" id="ariaid-title13" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESXTS_DEC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key1, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key2, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESXTS_DEC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESXTS_DEC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESXTS_DEC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES XTS decryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title14" id="parameters-4"><h2 class="title topictitle2" id="ariaid-title14" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title15" id="parameters-5"><h2 class="title topictitle2" id="ariaid-title15" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key1 first key used for the block cipher operation. expected size  16, 24 or 32 bytes, must be equal to \p key2 size</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title16" id="parameters-6"><h2 class="title topictitle2" id="ariaid-title16" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key2 second key used for the block cipher operation, expected  size 16, 24 or 32 bytes, must be equal to \p key1 size</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title17" id="parameters-7"><h2 class="title topictitle2" id="ariaid-title17" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_HW_KEY_NOT_SUPPORTED  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key references provided by \p key1 and \p key2 must be initialized  using SX_KEYREF_LOAD_MATERIAL().</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title18" id="prepares-an-aes-ctr-block-cipher-encryption"><h1 class="title topictitle1" id="ariaid-title18" style="">Prepares an AES CTR block cipher encryption.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title19" id="sx-blkcipher-create-aesctr-enc-macro"><h1 class="title topictitle1" id="ariaid-title19" style="">SX_BLKCIPHER_CREATE_AESCTR_ENC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title20" id="c-3"><h2 class="title topictitle2" id="ariaid-title20" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESCTR_ENC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESCTR_ENC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESCTR_ENC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESCTR_ENC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES CTR encryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title21" id="parameters-8"><h2 class="title topictitle2" id="ariaid-title21" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title22" id="parameters-9"><h2 class="title topictitle2" id="ariaid-title22" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title23" id="parameters-10"><h2 class="title topictitle2" id="ariaid-title23" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title24" id="prepares-an-aes-ctr-block-cipher-decryption"><h1 class="title topictitle1" id="ariaid-title24" style="">Prepares an AES CTR block cipher decryption</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title25" id="sx-blkcipher-create-aesctr-dec-macro"><h1 class="title topictitle1" id="ariaid-title25" style="">SX_BLKCIPHER_CREATE_AESCTR_DEC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title26" id="c-4"><h2 class="title topictitle2" id="ariaid-title26" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESCTR_DEC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESCTR_DEC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESCTR_DEC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESCTR_DEC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES CTR decryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title27" id="parameters-11"><h2 class="title topictitle2" id="ariaid-title27" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title28" id="parameters-12"><h2 class="title topictitle2" id="ariaid-title28" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title29" id="parameters-13"><h2 class="title topictitle2" id="ariaid-title29" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title30" id="prepares-an-aes-ecb-block-cipher-encryption"><h1 class="title topictitle1" id="ariaid-title30" style="">Prepares an AES ECB block cipher encryption.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title31" id="sx-blkcipher-create-aesecb-enc-macro"><h1 class="title topictitle1" id="ariaid-title31" style="">SX_BLKCIPHER_CREATE_AESECB_ENC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title32" id="c-5"><h2 class="title topictitle2" id="ariaid-title32" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESECB_ENC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESECB_ENC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESECB_ENC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESECB_ENC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES ECB encryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title33" id="parameters-14"><h2 class="title topictitle2" id="ariaid-title33" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title34" id="parameters-15"><h2 class="title topictitle2" id="ariaid-title34" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size is  16, 24 or 32 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()| @remark | AES ECB does not support context saving.</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title35" id="prepares-an-aes-ecb-block-cipher-decryption"><h1 class="title topictitle1" id="ariaid-title35" style="">Prepares an AES ECB block cipher decryption</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title36" id="sx-blkcipher-create-aesecb-dec-macro"><h1 class="title topictitle1" id="ariaid-title36" style="">SX_BLKCIPHER_CREATE_AESECB_DEC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title37" id="c-6"><h2 class="title topictitle2" id="ariaid-title37" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESECB_DEC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESECB_DEC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESECB_DEC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESECB_DEC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES ECB decryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title38" id="parameters-16"><h2 class="title topictitle2" id="ariaid-title38" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title39" id="parameters-17"><h2 class="title topictitle2" id="ariaid-title39" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()| @remark | AES ECB does not support context saving.</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title40" id="prepares-an-aes-cbc-block-cipher-encryption"><h1 class="title topictitle1" id="ariaid-title40" style="">Prepares an AES CBC block cipher encryption.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title41" id="sx-blkcipher-create-aescbc-enc-macro"><h1 class="title topictitle1" id="ariaid-title41" style="">SX_BLKCIPHER_CREATE_AESCBC_ENC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title42" id="c-7"><h2 class="title topictitle2" id="ariaid-title42" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESCBC_ENC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESCBC_ENC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESCBC_ENC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESCBC_ENC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES CBC encryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title43" id="parameters-18"><h2 class="title topictitle2" id="ariaid-title43" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title44" id="parameters-19"><h2 class="title topictitle2" id="ariaid-title44" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size 16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title45" id="parameters-20"><h2 class="title topictitle2" id="ariaid-title45" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title46" id="prepares-an-aes-cbc-block-cipher-decryption"><h1 class="title topictitle1" id="ariaid-title46" style="">Prepares an AES CBC block cipher decryption</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title47" id="sx-blkcipher-create-aescbc-dec-macro"><h1 class="title topictitle1" id="ariaid-title47" style="">SX_BLKCIPHER_CREATE_AESCBC_DEC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title48" id="c-8"><h2 class="title topictitle2" id="ariaid-title48" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESCBC_DEC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESCBC_DEC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESCBC_DEC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESCBC_DEC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES CBC decryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title49" id="parameters-21"><h2 class="title topictitle2" id="ariaid-title49" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title50" id="parameters-22"><h2 class="title topictitle2" id="ariaid-title50" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title51" id="parameters-23"><h2 class="title topictitle2" id="ariaid-title51" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title52" id="prepares-an-aes-cfb-block-cipher-encryption"><h1 class="title topictitle1" id="ariaid-title52" style="">Prepares an AES CFB block cipher encryption.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title53" id="sx-blkcipher-create-aescfb-enc-macro"><h1 class="title topictitle1" id="ariaid-title53" style="">SX_BLKCIPHER_CREATE_AESCFB_ENC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title54" id="c-9"><h2 class="title topictitle2" id="ariaid-title54" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESCFB_ENC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESCFB_ENC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESCFB_ENC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESCFB_ENC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES CFB encryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title55" id="parameters-24"><h2 class="title topictitle2" id="ariaid-title55" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title56" id="parameters-25"><h2 class="title topictitle2" id="ariaid-title56" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title57" id="parameters-26"><h2 class="title topictitle2" id="ariaid-title57" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title58" id="prepares-an-aes-cfb-block-cipher-decryption"><h1 class="title topictitle1" id="ariaid-title58" style="">Prepares an AES CFB block cipher decryption</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title59" id="sx-blkcipher-create-aescfb-dec-macro"><h1 class="title topictitle1" id="ariaid-title59" style="">SX_BLKCIPHER_CREATE_AESCFB_DEC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title60" id="c-10"><h2 class="title topictitle2" id="ariaid-title60" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESCFB_DEC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESCFB_DEC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESCFB_DEC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESCFB_DEC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES CFB decryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title61" id="parameters-27"><h2 class="title topictitle2" id="ariaid-title61" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title62" id="parameters-28"><h2 class="title topictitle2" id="ariaid-title62" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title63" id="parameters-29"><h2 class="title topictitle2" id="ariaid-title63" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title64" id="prepares-an-aes-ofb-block-cipher-encryption"><h1 class="title topictitle1" id="ariaid-title64" style="">Prepares an AES OFB block cipher encryption.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title65" id="sx-blkcipher-create-aesofb-enc-macro"><h1 class="title topictitle1" id="ariaid-title65" style="">SX_BLKCIPHER_CREATE_AESOFB_ENC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title66" id="c-11"><h2 class="title topictitle2" id="ariaid-title66" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESOFB_ENC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESOFB_ENC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESOFB_ENC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESOFB_ENC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES OFB encryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title67" id="parameters-30"><h2 class="title topictitle2" id="ariaid-title67" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title68" id="parameters-31"><h2 class="title topictitle2" id="ariaid-title68" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title69" id="parameters-32"><h2 class="title topictitle2" id="ariaid-title69" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title70" id="prepares-an-aes-ofb-block-cipher-decryption"><h1 class="title topictitle1" id="ariaid-title70" style="">Prepares an AES OFB block cipher decryption</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title71" id="sx-blkcipher-create-aesofb-dec-macro"><h1 class="title topictitle1" id="ariaid-title71" style="">SX_BLKCIPHER_CREATE_AESOFB_DEC Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title72" id="c-12"><h2 class="title topictitle2" id="ariaid-title72" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CREATE_AESOFB_DEC)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">struct</strong> sxkeyref key, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> iv);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CREATE_AESOFB_DEC</span> ((FUNC_SX_BLKCIPHER_CREATE_AESOFB_DEC)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CREATE_AESOFB_DEC)))
</pre><p class="p">This function initializes the user allocated object \p c with a new block
cipher operation context needed to run the AES OFB decryption and reserves
the HW resource.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title73" id="parameters-33"><h2 class="title topictitle2" id="ariaid-title73" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title74" id="parameters-34"><h2 class="title topictitle2" id="ariaid-title74" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> key key used for the block cipher operation, expected size  16, 24 or 32 bytes</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title75" id="parameters-35"><h2 class="title topictitle2" id="ariaid-title75" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> iv initialization vector, size must be 16 bytes  @return ::SX_OK  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | key reference provided by \p key must be initialized using  SX_KEYREF_LOAD_MATERIAL() or SX_KEYREF_LOAD_BY_ID()</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title76" id="adds-data-to-be-encrypteddecrypted"><h1 class="title topictitle1" id="ariaid-title76" style="">Adds data to be encrypted/decrypted.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title77" id="sx-blkcipher-crypt-macro"><h1 class="title topictitle1" id="ariaid-title77" style="">SX_BLKCIPHER_CRYPT Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title78" id="c-13"><h2 class="title topictitle2" id="ariaid-title78" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_CRYPT)(<strong class="hl-keyword">struct</strong> sxblkcipher c, <strong class="hl-keyword">const</strong> <strong class="hl-keyword">char</strong> datain, size_t sz, <strong class="hl-keyword">char</strong> dataout);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_CRYPT</span> ((FUNC_SX_BLKCIPHER_CRYPT)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_CRYPT)))
</pre><p class="p">The function will return immediately.</p>
<p class="p">In order to start the operation SX_BLKCIPHER_RUN() must be called.</p>
<p class="p">\p sz must ensure the following restrictions based on the mode used:
##Remarks</p>
<p class="p">Algorithm | \p sz |   --------: | :----------: | :-----------  ECB | N 16 bytes | N &gt; 0  CBC | N 16 bytes | N &gt; 0  CFB | N 16 bytes | N &gt; 0  OFB | N 16 bytes | N &gt; 0  XTS | &gt;= 16 bytes | none  CTR | &gt; 0 bytes | none   The restrictions above are applicable ONLY for the last chunk of the data  to be processed when doing a partial operation. \p sz must be a multiple of  block size(16 bytes) when doing a partial operation(besides last chunk).</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title79" id="parameters-36"><h2 class="title topictitle2" id="ariaid-title79" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title80" id="parameters-37"><h2 class="title topictitle2" id="ariaid-title80" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> datain data to be encrypted or decrypted, with size \p sz</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title81" id="parameters-38"><h2 class="title topictitle2" id="ariaid-title81" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> sz size, in bytes, of data to be decrypted</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title82" id="parameters-39"><h2 class="title topictitle2" id="ariaid-title82" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> dataout encrypted or decrypted data, must have \p sz bytes  @return ::SX_OK  @return ::SX_ERR_UNITIALIZED_OBJ  @return ::SX_ERR_TOO_BIG  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | one of the sx_blkcipher_create_() functions must be called first</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title83" id="starts-a-block-cipher-operation"><h1 class="title topictitle1" id="ariaid-title83" style="">Starts a block cipher operation.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title84" id="sx-blkcipher-run-macro"><h1 class="title topictitle1" id="ariaid-title84" style="">SX_BLKCIPHER_RUN Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title85" id="c-14"><h2 class="title topictitle2" id="ariaid-title85" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_RUN)(<strong class="hl-keyword">struct</strong> sxblkcipher c);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_RUN</span> ((FUNC_SX_BLKCIPHER_RUN)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_RUN)))
</pre><p class="p">This function is used to start an encryption or a decryption based on what
create function was used, sx_blkcipher_create__enc() or
sx_blkcipher_create__dec(). The function will return immediately.</p>
<p class="p">The result will be transfered only after the operation is successfully
completed. The user shall check operation status with sx_blkcipher_status()
or SX_BLKCIPHER_WAIT().</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title86" id="parameters-40"><h2 class="title topictitle2" id="ariaid-title86" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context  @return ::SX_OK  @return ::SX_ERR_UNITIALIZED_OBJ  @return ::SX_ERR_TOO_SMALL  @return ::SX_ERR_WRONG_SIZE_GRANULARITY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | SX_BLKCIPHER_CRYPT() function must be called first</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title87" id="resumes-aes-operation-in-context-saving"><h1 class="title topictitle1" id="ariaid-title87" style="">Resumes AES operation in context-saving.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title88" id="sx-blkcipher-resume-state-macro"><h1 class="title topictitle1" id="ariaid-title88" style="">SX_BLKCIPHER_RESUME_STATE Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title89" id="c-15"><h2 class="title topictitle2" id="ariaid-title89" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_RESUME_STATE)(<strong class="hl-keyword">struct</strong> sxblkcipher c);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_RESUME_STATE</span> ((FUNC_SX_BLKCIPHER_RESUME_STATE)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_RESUME_STATE)))
</pre><p class="p">This function shall be called when using context-saving to load the state
that was previously saved by sx_blkcipher_save_state() in the sxblkcipher
operation context \p c. It must be called with the same sxblkcipher operation
context \p c that was used with sx_sxblkcipher_save_state(). It will reserve
all hardware resources required to run the partial AES operation.
Previously used mode and direction are already stored in sxblkcipher \p c.</p>
<p class="p">After successful execution of this function, the context \p c can be passed
to any of the block cipher functions, except the sx_blkcipher_create_()
functions.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title90" id="parameters-41"><h2 class="title topictitle2" id="ariaid-title90" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context  @return ::SX_OK  @return ::SX_ERR_UNITIALIZED_OBJ  @return ::SX_ERR_CONTEXT_SAVING_NOT_SUPPORTED  @return ::SX_ERR_INVALID_KEYREF  @return ::SX_ERR_INVALID_KEY_SZ  @return ::SX_ERR_INCOMPATIBLE_HW  @return ::SX_ERR_RETRY  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | sx_blkcipher_create_aes() and sx_blkcipher_save_state() functions  must be called before, for first part of the message. |
| @pre | must be called for each part of the message(besides first), before  sx_blkchiper_crypt() or sx_blkcipher_save_state().| @remark | the user must not change the key until all parts of the message to  be encrypted/decrypted are processed. |
| @remark | AES ECB does not support context saving.</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title91" id="starts-a-partial-block-cipher-operation"><h1 class="title topictitle1" id="ariaid-title91" style="">Starts a partial block cipher operation.</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title92" id="sx-blkcipher-save-state-macro"><h1 class="title topictitle1" id="ariaid-title92" style="">SX_BLKCIPHER_SAVE_STATE Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title93" id="c-16"><h2 class="title topictitle2" id="ariaid-title93" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_SAVE_STATE)(<strong class="hl-keyword">struct</strong> sxblkcipher c);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_SAVE_STATE</span> ((FUNC_SX_BLKCIPHER_SAVE_STATE)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_SAVE_STATE)))
</pre><p class="p">This function is used to start a partial encryption or decryption of
\p datain. The function will return immediately.</p>
<p class="p">The partial result will be transfered to \p dataout only after the operation
is successfully completed. The user shall check operation status with
sx_blkcipher_status() or SX_BLKCIPHER_WAIT().</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title94" id="parameters-42"><h2 class="title topictitle2" id="ariaid-title94" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context  @return ::SX_OK  @return ::SX_ERR_UNITIALIZED_OBJ  @return ::SX_ERR_CONTEXT_SAVING_NOT_SUPPORTED  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | SX_BLKCIPHER_CRYPT() should be called first.| @remark | the user must not change the key until all parts of the message to  be encrypted/decrypted are processed.</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title95" id="waits-until-the-given-block-cipher-operation-has-finished"><h1 class="title topictitle1" id="ariaid-title95" style="">Waits until the given block cipher operation has finished</h1><div class="body"></div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title96" id="sx-blkcipher-wait-macro"><h1 class="title topictitle1" id="ariaid-title96" style="">SX_BLKCIPHER_WAIT Macro</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title97" id="c-17"><h2 class="title topictitle2" id="ariaid-title97" style="">C</h2><div class="body"><pre class="pre codeblock c"><strong class="hl-keyword">typedef</strong> <strong class="hl-keyword">int</strong> (FUNC_SX_BLKCIPHER_WAIT)(<strong class="hl-keyword">struct</strong> sxblkcipher c);
<span class="hl-directive">#define</span> <span class="hl-defines">SX_BLKCIPHER_WAIT</span> ((FUNC_SX_BLKCIPHER_WAIT)((uint32_t )(API_TABLE_BASE_ADDRESS + ATO_SX_BLKCIPHER_WAIT)))
</pre><p class="p">This function returns when the block cipher operation was successfully
completed, or when an error has occurred that caused the operation to
terminate. The return value of this function is the operation status.</p>
<p class="p">After this call, all resources have been released and \p c cannot be used
again unless sx_blkcipher_create_() is used.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title98" id="parameters-43"><h2 class="title topictitle2" id="ariaid-title98" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context  @return ::SX_OK  @return ::SX_ERR_UNITIALIZED_OBJ  @return ::SX_ERR_DMA_FAILED   @see sx_blkcipher_status().  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @remark | this function is blocking until operation finishes.</p>
</div>
</div>
</div>
<div class="topic nested0" aria-labelledby="ariaid-title99" id="returns-the-block-cipher-operation-status"><h1 class="title topictitle1" id="ariaid-title99" style="">Returns the block cipher operation status.</h1><div class="body"><p class="p">If the operation is still ongoing, return ::SX_ERR_HW_PROCESSING.
In that case, the user can retry later.</p>
<p class="p">When this function returns with a code different than ::SX_ERR_HW_PROCESSING,
the block cipher operation has ended and all resources used by block cipher
operation context \p c have been released. In this case, \p c cannot be used
for a new operation until one of the sx_blkcipher_create_() functions is
called again.</p>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title100" id="parameters-44"><h2 class="title topictitle2" id="ariaid-title100" style="">Parameters</h2><div class="body"><p class="p"><span class="xref"></span> c block cipher operation context  @return ::SX_OK  @return ::SX_ERR_UNITIALIZED_OBJ  @return ::SX_ERR_HW_PROCESSING  @return ::SX_ERR_DMA_FAILED  | Param | Description |
|:----- |:----------- |</p>
<p class="p">| @pre | SX_BLKCIPHER_CRYPT and SX_BLKCIPHER_RUN() functions must be called  first</p>
</div>
</div>
</div>
</body>
</html>